INFO 2024-11-21 16:47:11,784 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 16:50:37,639 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 16:57:23,966 autoreload /home/arpreet/Librey_system/library_system/urls.py changed, reloading. (line 266)
INFO 2024-11-21 16:57:24,344 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 16:58:44,942 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 16:58:55,285 autoreload /home/arpreet/Librey_system/library_system/urls.py changed, reloading. (line 266)
INFO 2024-11-21 16:58:55,673 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 16:59:09,167 autoreload /home/arpreet/Librey_system/library/views/borrower_view.py changed, reloading. (line 266)
INFO 2024-11-21 16:59:09,582 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 16:59:13,895 autoreload /home/arpreet/Librey_system/library/views/book_view.py changed, reloading. (line 266)
INFO 2024-11-21 16:59:14,287 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 16:59:59,240 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:08:32,219 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:08:53,899 autoreload Watching for file changes with StatReloader (line 668)
WARNING 2024-11-21 17:09:38,197 log Method Not Allowed: /api/books/ (line 248)
WARNING 2024-11-21 17:09:38,198 basehttp "GET /api/books/ HTTP/1.1" 405 40 (line 213)
WARNING 2024-11-21 17:09:59,883 log Method Not Allowed: /api/books/ (line 248)
WARNING 2024-11-21 17:09:59,884 basehttp "POST /api/books/ HTTP/1.1" 405 41 (line 213)
INFO 2024-11-21 17:10:45,102 autoreload /home/arpreet/Librey_system/library/views/book_view.py changed, reloading. (line 266)
INFO 2024-11-21 17:10:45,552 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:10:47,913 autoreload /home/arpreet/Librey_system/library/views/borrower_view.py changed, reloading. (line 266)
INFO 2024-11-21 17:10:48,338 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:10:50,680 autoreload /home/arpreet/Librey_system/library/views/loan_view.py changed, reloading. (line 266)
INFO 2024-11-21 17:10:51,110 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:12:09,237 autoreload /home/arpreet/Librey_system/library/urls.py changed, reloading. (line 266)
INFO 2024-11-21 17:12:09,728 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:12:13,095 autoreload /home/arpreet/Librey_system/library_system/urls.py changed, reloading. (line 266)
INFO 2024-11-21 17:12:13,471 autoreload Watching for file changes with StatReloader (line 668)
WARNING 2024-11-21 17:12:23,116 log Method Not Allowed: /api/books/ (line 248)
WARNING 2024-11-21 17:12:23,116 basehttp "POST /api/books/ HTTP/1.1" 405 41 (line 213)
WARNING 2024-11-21 17:12:52,043 log Method Not Allowed: /api/books/ (line 248)
WARNING 2024-11-21 17:12:52,044 basehttp "GET /api/books/ HTTP/1.1" 405 40 (line 213)
WARNING 2024-11-21 17:14:05,333 log Method Not Allowed: /api/books/ (line 248)
WARNING 2024-11-21 17:14:05,334 basehttp "POST /api/books/ HTTP/1.1" 405 41 (line 213)
INFO 2024-11-21 17:17:05,183 autoreload /home/arpreet/Librey_system/library/views/__init__.py changed, reloading. (line 266)
INFO 2024-11-21 17:17:05,581 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:17:24,150 autoreload /home/arpreet/Librey_system/library/views/__init__.py changed, reloading. (line 266)
INFO 2024-11-21 17:17:24,510 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:17:59,394 autoreload /home/arpreet/Librey_system/library/views/__init__.py changed, reloading. (line 266)
INFO 2024-11-21 17:17:59,759 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:18:49,096 autoreload /home/arpreet/Librey_system/library/views/__init__.py changed, reloading. (line 266)
INFO 2024-11-21 17:18:49,456 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:19:38,707 autoreload /home/arpreet/Librey_system/library/views/__init__.py changed, reloading. (line 266)
INFO 2024-11-21 17:19:39,104 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:20:57,297 autoreload /home/arpreet/Librey_system/library/urls.py changed, reloading. (line 266)
INFO 2024-11-21 17:20:57,693 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:21:05,041 autoreload /home/arpreet/Librey_system/library/urls.py changed, reloading. (line 266)
INFO 2024-11-21 17:21:05,393 autoreload Watching for file changes with StatReloader (line 668)
WARNING 2024-11-21 17:21:11,118 log Method Not Allowed: /api/books/ (line 248)
WARNING 2024-11-21 17:21:11,119 basehttp "POST /api/books/ HTTP/1.1" 405 41 (line 213)
WARNING 2024-11-21 17:21:12,998 log Method Not Allowed: /api/books/ (line 248)
WARNING 2024-11-21 17:21:12,999 basehttp "POST /api/books/ HTTP/1.1" 405 41 (line 213)
INFO 2024-11-21 17:21:18,025 autoreload /home/arpreet/Librey_system/library/urls.py changed, reloading. (line 266)
INFO 2024-11-21 17:21:18,420 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:23:27,929 autoreload /home/arpreet/Librey_system/library/views/book_view.py changed, reloading. (line 266)
INFO 2024-11-21 17:23:28,354 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:23:36,816 autoreload /home/arpreet/Librey_system/library/views/borrower_view.py changed, reloading. (line 266)
INFO 2024-11-21 17:23:37,229 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:23:41,815 basehttp "POST /api/books/ HTTP/1.1" 201 100 (line 213)
INFO 2024-11-21 17:23:47,567 basehttp "GET /api/books/ HTTP/1.1" 200 102 (line 213)
INFO 2024-11-21 17:28:53,440 basehttp "POST /api/books/ HTTP/1.1" 201 82 (line 213)
WARNING 2024-11-21 17:29:40,581 log Not Found: /api/borrowed (line 248)
WARNING 2024-11-21 17:29:40,582 basehttp "POST /api/borrowed HTTP/1.1" 404 3603 (line 213)
WARNING 2024-11-21 17:29:45,161 log Not Found: /api/borrowed (line 248)
WARNING 2024-11-21 17:29:45,161 basehttp "POST /api/borrowed HTTP/1.1" 404 3603 (line 213)
WARNING 2024-11-21 17:29:50,697 log Not Found: /api/borrowed/ (line 248)
WARNING 2024-11-21 17:29:50,697 basehttp "POST /api/borrowed/ HTTP/1.1" 404 3606 (line 213)
WARNING 2024-11-21 17:30:18,238 log Not Found: /api/borrowed/ (line 248)
WARNING 2024-11-21 17:30:18,239 basehttp "POST /api/borrowed/ HTTP/1.1" 404 3606 (line 213)
WARNING 2024-11-21 17:30:22,765 log Not Found: /api/borrowed/ (line 248)
WARNING 2024-11-21 17:30:22,765 basehttp "POST /api/borrowed/ HTTP/1.1" 404 3606 (line 213)
WARNING 2024-11-21 17:30:27,774 log Not Found: /api/borrowed/ (line 248)
WARNING 2024-11-21 17:30:27,774 basehttp "POST /api/borrowed/ HTTP/1.1" 404 3606 (line 213)
WARNING 2024-11-21 17:31:46,758 log Not Found: /api/borrow/ (line 248)
WARNING 2024-11-21 17:31:46,758 basehttp "POST /api/borrow/ HTTP/1.1" 404 31 (line 213)
WARNING 2024-11-21 17:32:11,710 log Not Found: /api/borrow/ (line 248)
WARNING 2024-11-21 17:32:11,711 basehttp "POST /api/borrow/ HTTP/1.1" 404 31 (line 213)
WARNING 2024-11-21 17:35:26,730 log Not Found: /api/borrow/ (line 248)
WARNING 2024-11-21 17:35:26,730 basehttp "POST /api/borrow/ HTTP/1.1" 404 31 (line 213)
WARNING 2024-11-21 17:35:28,193 log Not Found: /api/borrow/ (line 248)
WARNING 2024-11-21 17:35:28,194 basehttp "POST /api/borrow/ HTTP/1.1" 404 31 (line 213)
INFO 2024-11-21 17:36:58,358 autoreload /home/arpreet/Librey_system/library_system/settings.py changed, reloading. (line 266)
INFO 2024-11-21 17:36:58,814 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:38:18,023 autoreload /home/arpreet/Librey_system/library_system/base.py changed, reloading. (line 266)
INFO 2024-11-21 17:38:18,446 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:39:41,028 autoreload Watching for file changes with StatReloader (line 668)
WARNING 2024-11-21 17:39:45,467 log Bad Request: /api/borrow/ (line 248)
WARNING 2024-11-21 17:39:45,467 basehttp "POST /api/borrow/ HTTP/1.1" 400 52 (line 213)
WARNING 2024-11-21 17:40:12,522 log Bad Request: /api/borrow/ (line 248)
WARNING 2024-11-21 17:40:12,523 basehttp "POST /api/borrow/ HTTP/1.1" 400 52 (line 213)
WARNING 2024-11-21 17:40:29,474 log Bad Request: /api/borrow/ (line 248)
WARNING 2024-11-21 17:40:29,475 basehttp "POST /api/borrow/ HTTP/1.1" 400 52 (line 213)
WARNING 2024-11-21 17:41:13,693 log Bad Request: /api/borrow/ (line 248)
WARNING 2024-11-21 17:41:13,694 basehttp "POST /api/borrow/ HTTP/1.1" 400 52 (line 213)
WARNING 2024-11-21 17:41:26,603 log Not Found: /api/book/ (line 248)
WARNING 2024-11-21 17:41:26,603 basehttp "POST /api/book/ HTTP/1.1" 404 3594 (line 213)
INFO 2024-11-21 17:41:31,235 basehttp "POST /api/books/ HTTP/1.1" 201 84 (line 213)
INFO 2024-11-21 17:41:44,544 basehttp "POST /api/books/ HTTP/1.1" 201 84 (line 213)
WARNING 2024-11-21 17:42:20,221 log Not Found: /api/borrow/ (line 248)
WARNING 2024-11-21 17:42:20,221 basehttp "POST /api/borrow/ HTTP/1.1" 404 31 (line 213)
WARNING 2024-11-21 17:42:31,348 log Not Found: /api/borrow/ (line 248)
WARNING 2024-11-21 17:42:31,348 basehttp "POST /api/borrow/ HTTP/1.1" 404 31 (line 213)
INFO 2024-11-21 17:44:11,980 basehttp "GET /api/books/ HTTP/1.1" 200 171 (line 213)
INFO 2024-11-21 17:45:23,286 basehttp "GET /api/books/ HTTP/1.1" 200 171 (line 213)
WARNING 2024-11-21 17:45:37,011 log Not Found: /api/borrow/ (line 248)
WARNING 2024-11-21 17:45:37,011 basehttp "POST /api/borrow/ HTTP/1.1" 404 31 (line 213)
INFO 2024-11-21 17:52:14,700 basehttp "POST /api/borrow/ HTTP/1.1" 200 41 (line 213)
WARNING 2024-11-21 17:52:50,239 log Bad Request: /api/borrow/ (line 248)
WARNING 2024-11-21 17:52:50,240 basehttp "POST /api/borrow/ HTTP/1.1" 400 52 (line 213)
WARNING 2024-11-21 17:54:19,588 log Method Not Allowed: /api/borrowed/3/ (line 248)
WARNING 2024-11-21 17:54:19,589 basehttp "POST /api/borrowed/3/ HTTP/1.1" 405 41 (line 213)
INFO 2024-11-21 17:54:25,410 basehttp "GET /api/borrowed/3/ HTTP/1.1" 200 30 (line 213)
WARNING 2024-11-21 17:55:12,301 log Not Found: /books/ (line 248)
WARNING 2024-11-21 17:55:12,302 basehttp "POST /books/ HTTP/1.1" 404 2349 (line 213)
INFO 2024-11-21 17:55:23,421 basehttp "POST /api/books/ HTTP/1.1" 201 84 (line 213)
INFO 2024-11-21 17:55:41,433 basehttp "POST /api/books/ HTTP/1.1" 201 78 (line 213)
INFO 2024-11-21 17:55:48,798 basehttp "POST /api/books/ HTTP/1.1" 201 84 (line 213)
WARNING 2024-11-21 17:56:20,821 log Bad Request: /api/borrow/ (line 248)
WARNING 2024-11-21 17:56:20,822 basehttp "POST /api/borrow/ HTTP/1.1" 400 52 (line 213)
INFO 2024-11-21 17:56:27,222 basehttp "POST /api/borrow/ HTTP/1.1" 200 41 (line 213)
INFO 2024-11-21 17:56:34,222 basehttp "POST /api/borrow/ HTTP/1.1" 200 41 (line 213)
WARNING 2024-11-21 17:56:43,285 log Bad Request: /api/borrow/ (line 248)
WARNING 2024-11-21 17:56:43,286 basehttp "POST /api/borrow/ HTTP/1.1" 400 64 (line 213)
INFO 2024-11-21 17:56:50,480 basehttp "POST /api/borrow/ HTTP/1.1" 200 41 (line 213)
INFO 2024-11-21 17:57:02,164 basehttp "GET /api/borrowed/3/ HTTP/1.1" 200 88 (line 213)
ERROR 2024-11-21 17:57:34,550 log Internal Server Error: /api/return/ (line 248)
Traceback (most recent call last):
  File "/home/arpreet/Librey_system/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/arpreet/Librey_system/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/arpreet/Librey_system/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/arpreet/Librey_system/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/arpreet/Librey_system/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/arpreet/Librey_system/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arpreet/Librey_system/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arpreet/Librey_system/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/arpreet/Librey_system/library/views/loan_view.py", line 37, in post
    loan.returned_at = timezone.now()
                       ^^^^^^^^^^^^
AttributeError: type object 'datetime.timezone' has no attribute 'now'
ERROR 2024-11-21 17:57:34,552 basehttp "POST /api/return/ HTTP/1.1" 500 94530 (line 213)
INFO 2024-11-21 17:59:26,352 autoreload /home/arpreet/Librey_system/library/views/loan_view.py changed, reloading. (line 266)
INFO 2024-11-21 17:59:26,780 autoreload Watching for file changes with StatReloader (line 668)
INFO 2024-11-21 17:59:34,679 basehttp "POST /api/return/ HTTP/1.1" 200 41 (line 213)
INFO 2024-11-21 17:59:41,391 basehttp "GET /api/borrowed/3/ HTTP/1.1" 200 88 (line 213)
INFO 2024-11-21 17:59:48,097 basehttp "GET /api/borrowed/3/ HTTP/1.1" 200 88 (line 213)
WARNING 2024-11-21 17:59:54,845 log Not Found: /api/return/ (line 248)
WARNING 2024-11-21 17:59:54,845 basehttp "POST /api/return/ HTTP/1.1" 404 52 (line 213)
WARNING 2024-11-21 18:00:01,470 log Not Found: /api/return/ (line 248)
WARNING 2024-11-21 18:00:01,471 basehttp "POST /api/return/ HTTP/1.1" 404 52 (line 213)
INFO 2024-11-21 18:00:12,157 basehttp "POST /api/return/ HTTP/1.1" 200 41 (line 213)
INFO 2024-11-21 18:00:17,994 basehttp "GET /api/borrowed/3/ HTTP/1.1" 200 59 (line 213)
INFO 2024-11-21 18:00:25,330 basehttp "GET /api/borrowed/2/ HTTP/1.1" 200 2 (line 213)
INFO 2024-11-21 18:00:47,047 basehttp "GET /api/history/2/ HTTP/1.1" 200 137 (line 213)
INFO 2024-11-21 18:01:01,698 basehttp "GET /api/history/3/ HTTP/1.1" 200 361 (line 213)
